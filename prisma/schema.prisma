datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id       Int    @id @default(autoincrement())
  name     String
  password String
  email    String @unique
  userType String @default("user")
}

model Otp {
  id        Int      @id @default(autoincrement())
  otpCode   String
  createdAt DateTime @default(now())
  expiresAt DateTime
  email     String
}

model Shipper {
  id        Int     @id @default(autoincrement())
  name      String
  phone     String
  email     String  @unique
  shipperId String  @unique
  orders    Order[]
  cityId    Int
  City      City    @relation(fields: [cityId], references: [id])
}

model Order {
  id         Int     @id @default(autoincrement())
  cusName    String
  cusPhone   String
  cusAddress String
  cod        Float
  delivery   Boolean
  note       String
  trackingId String  @unique
  cityId     Int
  shipperId  Int
  Shipper    Shipper @relation(fields: [shipperId], references: [id])
  City       City    @relation(fields: [cityId], references: [id])
}

model State {
  id     Int    @id @default(autoincrement())
  name   String @unique
  cities City[]
}

model City {
  id      Int       @id @default(autoincrement())
  name    String
  stateId Int
  status  Boolean
  fee     Float     @default(4500)
  Code    String
  state   State     @relation(fields: [stateId], references: [id])
  Order   Order[]
  Shipper Shipper[]
}
